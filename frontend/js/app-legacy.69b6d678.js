(function(e){function t(t){for(var n,c,s=t[0],o=t[1],l=t[2],f=0,p=[];f<s.length;f++)c=s[f],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&p.push(i[c][0]),i[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},i={app:0},r=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0dc4":function(e,t,a){},2612:function(e,t,a){},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"7a58":function(e,t,a){"use strict";var n=a("ba21"),i=a.n(n);i.a},"80b1":function(e,t,a){"use strict";var n=a("0dc4"),i=a.n(n);i.a},"8f77":function(e,t,a){"use strict";var n=a("d085"),i=a.n(n);i.a},"9c0c":function(e,t,a){},a830:function(e,t,a){"use strict";var n=a("2612"),i=a.n(n);i.a},ba21:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,i,r=a("2b0e"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("site-navigation"),a("router-view")],1)},s=[],o=a("d4ec"),l=a("262e"),u=a("2caf"),f=a("9ab4"),p=a("60a3"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"site-navigation"},[a("vs-navbar",{attrs:{fixed:"","center-collapsed":"","padding-scroll":""},scopedSlots:e._u([{key:"left",fn:function(){return[a("router-link",{staticClass:"home",attrs:{to:"/home"},nativeOn:{click:function(t){e.active=e.Page.HOME}}},[e._v("Home")])]},proxy:!0}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("vs-navbar-item",{staticStyle:{display:"none"},attrs:{active:e.active===e.Page.HOME}},[e._v(" Home ")]),a("vs-navbar-item",{attrs:{active:e.active===e.Page.SUBMIT_IMAGE,to:"/submit-image",id:e.Page.SUBMIT_IMAGE}},[e._v(" Submit image ")]),a("vs-navbar-item",{attrs:{active:e.active===e.Page.SUBMIT_VIDEO,to:"/submit-video",id:e.Page.SUBMIT_VIDEO}},[e._v(" Submit video ")])],1)],1)},v=[];(function(e){e["HOME"]="HOME",e["SUBMIT_VIDEO"]="SUBMIT_VIDEO",e["SUBMIT_IMAGE"]="SUBMIT_IMAGE"})(n||(n={})),function(e){e["FILE_SELECTING"]="FILE_SELECTING",e["FILE_SELECTED"]="FILE_SELECTED",e["FILE_UPLOADING"]="FILE_UPLOADING",e["FILE_UPLOADED"]="FILE_UPLOADED"}(i||(i={}));var b=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.active=n.HOME,e.Page=n,e}return a}(p["b"]);b=Object(f["a"])([p["a"]],b);var h=b,E=h,L=(a("7a58"),a("2877")),m=Object(L["a"])(E,d,v,!1,null,"74a4cba3",null),g=m.exports,_=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["b"]);_=Object(f["a"])([Object(p["a"])({components:{SiteNavigation:g}})],_);var O=_,I=O,y=(a("5c0b"),Object(L["a"])(I,c,s,!1,null,null,null)),j=y.exports,S=a("8c4f"),k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},F=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home grid"},[a("div",{staticClass:"site-title"},[e._v("Home")]),a("div",{staticClass:"site-description"},[e._v("Use the above navbar to choose if you want to submit an image or a video.")])])}],C=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(p["b"]);C=Object(f["a"])([p["a"]],C);var U=C,D=U,w=(a("8f77"),Object(L["a"])(D,k,F,!1,null,"fcc29f0c",null)),T=w.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submit-image"},[a("div",{staticClass:"site-title"},[e._v("Submit image")]),e.state===e.State.FILE_SELECTING?a("div",{staticClass:"site-placeholder placeholder",on:{click:e.selectFile}},[e._v("+")]):a("img",{staticClass:"image",attrs:{src:e.objectUrl}}),a("vs-button",{staticClass:"button",attrs:{size:"large"},on:{click:e.buttonClicked}},[e._v(e._s(e.buttonText))]),a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",accept:"image/jpeg"},on:{change:function(t){return e.fileSelected(t)}}})],1)},x=[],G=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),A=a("bee2"),M=a("bc3a"),N=a.n(M),B=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.State=i,e.state=i.FILE_SELECTING,e.file=null,e.objectUrl=null,e.loadingObject=null,e}return Object(A["a"])(a,[{key:"fileSelected",value:function(e){var t=e.target;t.files&&t.files[0]&&(this.file=t.files[0],this.objectUrl="".concat(URL.createObjectURL(this.file)),this.state=i.FILE_SELECTED)}},{key:"downloadBlob",value:function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.setAttribute("download","image.jpg"),document.body.appendChild(a),a.click()}},{key:"startLoadingSpinner",value:function(){this.loadingObject=this.$vs.loading({type:"circles",scale:"2",background:"#ffffffC1",opacity:1,color:"primary",text:"Uploading"})}},{key:"stopLoadingSpinner",value:function(){this.loadingObject.close()}},{key:"buttonClicked",value:function(){switch(this.state){case i.FILE_SELECTING:this.selectFile();break;case i.FILE_SELECTED:this.uploadFile();break}}},{key:"selectFile",value:function(){var e=this.$refs.file;e.click()}},{key:"uploadFile",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.state===i.FILE_UPLOADING){e.next=22;break}return e.prev=1,this.state=i.FILE_UPLOADING,this.startLoadingSpinner(),t=new FormData,t.append("image",this.file),e.next=8,N.a.post("http://localhost:5000/api/image",t,{responseType:"blob"});case 8:a=e.sent.data,this.state=i.FILE_UPLOADED,this.downloadBlob(a),e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](1),alert("Errore nel server: ".concat(e.t0.response.data)),console.error(e.t0),console.error(e.t0.response),this.state=i.FILE_SELECTED;case 19:return e.prev=19,this.stopLoadingSpinner(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,13,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"buttonText",get:function(){switch(this.state){case i.FILE_SELECTING:return"Select an image";case i.FILE_SELECTED:return"Upload the image";case i.FILE_UPLOADING:return"Uploading the image";case i.FILE_UPLOADED:return"Image uploaded!!!"}}},{key:"loading",get:function(){return this.state===i.FILE_UPLOADING}}]),a}(p["b"]);B=Object(f["a"])([p["a"]],B);var R=B,$=R,H=(a("80b1"),Object(L["a"])($,P,x,!1,null,"08b864eb",null)),V=H.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submit-video"},[a("div",{staticClass:"site-title"},[e._v("Submit Video")]),e.state===e.State.FILE_SELECTING?a("div",{staticClass:"site-placeholder placeholder",on:{click:e.selectFile}},[e._v("+")]):a("video",{ref:"video",staticClass:"video",attrs:{controls:""}},[a("source",{attrs:{src:e.objectUrl,type:e.file.type}})]),a("vs-button",{staticClass:"button",attrs:{size:"large"},on:{click:e.buttonClicked}},[e._v(e._s(e.buttonText))]),a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",accept:"video/mp4"},on:{change:function(t){return e.fileSelected(t)}}})],1)},J=[],q=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.State=i,e.state=i.FILE_SELECTING,e.file=null,e.objectUrl=null,e.loadingObject=null,e}return Object(A["a"])(a,[{key:"fileSelected",value:function(e){var t=e.target;t.files&&t.files[0]&&(this.file=t.files[0],this.objectUrl="".concat(URL.createObjectURL(this.file)),this.state=i.FILE_SELECTED)}},{key:"downloadBlob",value:function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.setAttribute("download","video.mp4"),document.body.appendChild(a),a.click()}},{key:"startLoadingSpinner",value:function(){this.loadingObject=this.$vs.loading({type:"circles",scale:"2",background:"#ffffffC1",opacity:1,color:"primary",text:"Uploading"})}},{key:"stopLoadingSpinner",value:function(){this.loadingObject.close()}},{key:"buttonClicked",value:function(){switch(this.state){case i.FILE_SELECTING:this.selectFile();break;case i.FILE_SELECTED:this.uploadFile();break}}},{key:"selectFile",value:function(){var e=this.$refs.file;e.click()}},{key:"uploadFile",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.state===i.FILE_UPLOADING){e.next=22;break}return e.prev=1,this.state=i.FILE_UPLOADING,this.startLoadingSpinner(),t=new FormData,t.append("video",this.file),e.next=8,N.a.post("https://yolo-simple-project-server.herokuapp.com//api/video",t,{responseType:"blob"});case 8:a=e.sent.data,this.state=i.FILE_UPLOADED,this.downloadBlob(a),e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](1),alert("Errore nel server: ".concat(e.t0.response.data)),console.error(e.t0),console.error(e.t0.response),this.state=i.FILE_SELECTED;case 19:return e.prev=19,this.stopLoadingSpinner(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,13,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"buttonText",get:function(){switch(this.state){case i.FILE_SELECTING:return"Select a video";case i.FILE_SELECTED:return"Upload the video";case i.FILE_UPLOADING:return"Uploading the video";case i.FILE_UPLOADED:return"Video uploaded!!!"}}},{key:"loading",get:function(){return this.state===i.FILE_UPLOADING}}]),a}(p["b"]);q=Object(f["a"])([p["a"]],q);var K=q,Q=K,W=(a("a830"),Object(L["a"])(Q,z,J,!1,null,"ac166442",null)),X=W.exports;r["default"].use(S["a"]);var Y=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:T},{path:"/submit-image",name:"submit-image",component:V},{path:"/submit-video",name:"submit-video",component:X}],Z=new S["a"]({mode:"history",base:"/",routes:Y}),ee=Z,te=a("574d"),ae=a.n(te);a("04f2");r["default"].use(ae.a),new r["default"]({router:ee,render:function(e){return e(j)}}).$mount("#app")},d085:function(e,t,a){}});
//# sourceMappingURL=app-legacy.69b6d678.js.map